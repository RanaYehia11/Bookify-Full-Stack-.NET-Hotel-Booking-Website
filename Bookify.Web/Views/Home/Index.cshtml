@{
    ViewData["Title"] = "Home Page";
}

<html lang="zxx">

<head>


</head>

<body>

    <!-- Hero Section Begin -->
    <section class="hero-section">
        <div class="container">
            @if (User.Identity.IsAuthenticated&&TempData["SuccessMessage"] != null)
            {
                <div id="successAlert" class="alert alert-success text-center mt-3" role="alert">
                    @TempData["SuccessMessage"]
                </div>

                <script>
                    setTimeout(function () {
                        const alertBox = document.getElementById('successAlert');
                        if (alertBox) {
                            alertBox.style.transition = 'opacity 0.6s ease';
                            alertBox.style.opacity = '0';
                            setTimeout(() => alertBox.remove(), 600);
                        }
                    }, 3000); 
                </script>
            }

            <div class="row">
                <div class="col-lg-6">
                    <div class="hero-text">
                        <h1>Nile Horizon <br>A Luxury Hotel</h1>
                        <p>
                            Here are the best hotel booking sites, including recommendations for international
                            travel and for finding low-priced hotel rooms.
                        </p>
                        <a href="#" class="primary-btn">Discover Now</a>
                    </div>
                </div>
                <div class="col-xl-4 col-lg-5 offset-xl-2 offset-lg-1">
                    <div class="booking-form">
                        <h3>Booking Your Room</h3>
                        <form asp-controller="RoomAvalibality" asp-action="CheckAvailability" method="get">
                            <div class="check-date">
                                <label for="date-in">Check In:</label>
                                <input type="date" name="checkIn" id="date-in" required>
                            </div>
                            <div class="check-date">
                                <label for="date-out">Check Out:</label>
                                <input type="date" name="checkOut" id="date-out" required>
                            </div>
                            <button type="submit">Check Availability</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-slider owl-carousel">
            <div class="hs-item set-bg" data-setbg="@Url.Content("~/images/hero/hero-1.jpg")"></div>
            <div class="hs-item set-bg" data-setbg="@Url.Content("~/images/hero/hero-2.jpg")"></div>
            <div class="hs-item set-bg" data-setbg="@Url.Content("~/images/hero/hero-3.jpg")"></div>
        </div>
    </section>
    <!-- Hero Section End -->
    <!-- About Us Section Begin -->
    <section class="aboutus-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="about-text">
                        <div class="section-title">
                            <span>About Us</span>
                            <h2>Nile Horizon<br />Hotel</h2>
                        </div>
                        <p class="f-para">
                            Welcome to Nile Horizon, a place where comfort meets elegance.
                            Located in the heart of the city, our hotel offers a relaxing atmosphere, modern facilities, and exceptional service to make your stay unforgettable.
                            Whether you’re traveling for business or leisure, you’ll find everything you need — from cozy rooms and fine dining to professional staff always ready to assist you.
                            At Nile Horizon, we believe every guest deserves a memorable experience.
                        </p>
         
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="about-pic">
                        <div class="row">
                            <div class="col-sm-6">
                                <img src="~/images/about/about-1.jpg" alt="">
                            </div>
                            <div class="col-sm-6">
                                <img src="~/images/about/about-2.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- About Us Section End -->
    <!-- Services Section End -->
    <section class="services-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>What We Do</span>
                        <h2>Discover Our Services</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-036-parking"></i>
                        <h4>Travel Plan</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-033-dinner"></i>
                        <h4>Catering Service</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-026-bed"></i>
                        <h4>Babysitting</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-024-towel"></i>
                        <h4>Laundry</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-044-clock-1"></i>
                        <h4>Hire Driver</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-6">
                    <div class="service-item">
                        <i class="flaticon-012-cocktail"></i>
                        <h4>Bar & Drink</h4>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Services Section End -->
    <!-- Home Room Section Begin -->
    <section class="hp-room-section">
        <div class="container-fluid">
            <div class="hp-room-items">
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="@Url.Content("~/images/room/room-b1.jpg")">
                            <div class="hr-text">
                                <h3>Double Room</h3>
                                <h2>199$<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="@Url.Content("~/images/room/room-b2.jpg")">
                            <div class="hr-text">
                                <h3>Premium King Room</h3>
                                <h2>159$<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="@Url.Content("~/images/room/room-b3.jpg")">
                            <div class="hr-text">
                                <h3>Deluxe Room</h3>
                                <h2>198$<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <div class="hp-room-item set-bg" data-setbg="@Url.Content("~/images/room/room-b4.jpg")">
                            <div class="hr-text">
                                <h3>Family Room</h3>
                                <h2>299$<span>/Pernight</span></h2>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Size:</td>
                                            <td>30 ft</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Capacity:</td>
                                            <td>Max persion 5</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Bed:</td>
                                            <td>King Beds</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Services:</td>
                                            <td>Wifi, Television, Bathroom,...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Home Room Section End -->
    <!-- Testimonial Section Begin -->
    <section class="testimonial-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Testimonials</span>
                        <h2>What Customers Say?</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="testimonial-slider owl-carousel">
                        <div class="ts-item">
                            <p>
                                After a construction project took longer than expected, my husband, my daughter and I
                                needed a place to stay for a few nights. As a Chicago resident, we know a lot about our
                                city, neighborhood and the types of housing options available and absolutely love our
                                vacation at Sona Hotel.
                            </p>
                            <div class="ti-author">
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5> - Alexander Vasquez</h5>
                            </div>
                            <img src="~/images/testimonial-logo.png" alt="">
                        </div>
                        <div class="ts-item">
                            <p>
                                After a construction project took longer than expected, my husband, my daughter and I
                                needed a place to stay for a few nights. As a Chicago resident, we know a lot about our
                                city, neighborhood and the types of housing options available and absolutely love our
                                vacation at Sona Hotel.
                            </p>
                            <div class="ti-author">
                                <div class="rating">
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star"></i>
                                    <i class="icon_star-half_alt"></i>
                                </div>
                                <h5> - Alexander Vasquez</h5>
                            </div>
                            <img src="~/images/testimonial-logo.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Testimonial Section End -->
    <!-- Blog Section Begin -->
    <section class="blog-section spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Hotel News</span>
                        <h2>Our Blog & Event</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="@Url.Content("~/images/blog/blog-1.jpg")">
                        <div class="bi-text">
                            <span class="b-tag">Travel Trip</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="@Url.Content("~/images/blog/blog-2.jpg")">
                        <div class="bi-text">
                            <span class="b-tag">Camping</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="blog-item set-bg" data-setbg="@Url.Content("~/images/blog/blog-3.jpg")">
                        <div class="bi-text">
                            <span class="b-tag">Event</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="blog-item small-size set-bg" data-setbg="@Url.Content("~/images/blog/blog-wide.jpg")">
                        <div class="bi-text">
                            <span class="b-tag">Cosy Stay</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="blog-item small-size set-bg" data-setbg="@Url.Content("~/images/blog/blog-10.jpg")">
                        <div class="bi-text">
                            <span class="b-tag">Travel</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Blog Section End -->
    <!-- Search model Begin -->
    <div class="search-model">
        <div class="h-100 d-flex align-items-center justify-content-center">
            <div class="search-close-switch"><i class="icon_close"></i></div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Search here.....">
            </form>
        </div>
    </div>
    <!-- Search model end -->
    <!-- test change by Manar -->

</body>

</html>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // التاريخ اليوم بصيغة yyyy-mm-dd
        function todayYMD() {
            const d = new Date();
            return d.toISOString().split('T')[0];
        }

        // اضبط min لكل input[name="checkIn"] و attach validation
        const checkInInputs = document.querySelectorAll("input[name='checkIn']");
        const checkOutInputs = document.querySelectorAll("input[name='checkOut']");

        // ضبط الحد الأدنى لــ check-in لجميع الحقول
        checkInInputs.forEach(function (inp) {
            try {
                inp.setAttribute('min', todayYMD());
            } catch (e) { /* ignore */ }

            // لو المستخدم غيّر الcheck-in، حدّث min للـ checkOut المقابل إن وُجد
            inp.addEventListener('change', function () {
                const form = inp.closest('form');
                const co = form ? form.querySelector("input[name='checkOut']") : null;
                if (co) {
                    // جعل أدنى تاريخ للـ checkout هو اليوم التالي للـ checkin
                    if (inp.value) {
                        const ciDate = new Date(inp.value);
                        ciDate.setDate(ciDate.getDate() + 1);
                        const minCo = ciDate.toISOString().split('T')[0];
                        co.setAttribute('min', minCo);

                        // إذا كانت قيمة checkout أقل من min، نمسحها
                        if (co.value && co.value < minCo) {
                            co.value = "";
                        }
                    } else {
                        co.removeAttribute('min');
                        co.setAttribute('min', todayYMD());
                    }
                }
            }, { passive: true });
        });

        // ضبط الحد الأدنى الافتراضي للـ checkout لو موجود
        checkOutInputs.forEach(function (co) {
            try {
                co.setAttribute('min', todayYMD());
            } catch (e) { /* ignore */ }
        });

        // Attach submit validation to أي فرم يحتوي على checkIn input
        const forms = new Set();
        checkInInputs.forEach(i => { if (i.closest('form')) forms.add(i.closest('form')); });
        forms.forEach(function (form) {
            form.addEventListener('submit', function (e) {
                const ci = form.querySelector("input[name='checkIn']");
                const co = form.querySelector("input[name='checkOut']");
                const today = todayYMD();

                if (!ci || !co) return; // لو واحد من الاتنين مش موجود، نمشي

                // تأكد أن checkIn مش قبل اليوم
                if (ci.value && ci.value < today) {
                    e.preventDefault();
                    alert("Check-In date cannot be earlier than today!");
                    return;
                }

                // تأكد أن checkout بعد checkin
                if (ci.value && co.value) {
                    if (co.value <= ci.value) {
                        e.preventDefault();
                        alert("Check-Out must be after Check-In!");
                        return;
                    }
                }
            }, { passive: false });
        });
    });
</script>
