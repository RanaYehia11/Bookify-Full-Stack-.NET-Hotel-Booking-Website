@model CartDropdownViewModel

<li class="nav-item dropdown">
    <a class="nav-link position-relative" href="#" id="cartDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fa fa-shopping-cart fa-lg text-dark"></i>

        @if (Model.Count > 0)
        {
            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger shadow-sm" style="font-size: 0.75rem;">
                @Model.Count
            </span>
        }
    </a>

    <ul class="dropdown-menu dropdown-menu-end border-0 shadow-lg p-3"
        aria-labelledby="cartDropdown"
        style="min-width: 330px; border-radius: 15px; background-color: #faf6f1;
               margin-top: 10px; transform: translateX(0) !important;">

        <h6 class="fw-bold text-dark mb-3 px-2">🛒 Your Cart</h6>

        @if (Model.Items.Any())
        {
            @foreach (var item in Model.Items)
            {
                <li class="d-flex align-items-center justify-content-between mb-3 rounded-3 p-2 cart-item">


                    <div class="d-flex align-items-center">
                        <img src="/images/room/room-@(item.RoomId).jpg"
                             class="rounded"
                             style="width:55px; height:45px; object-fit:cover; margin-right:12px;">

                        <div style="line-height: 1.3;">
                            <p class="mb-0 fw-semibold">@item.RoomName</p>
                            <small class="text-muted">$@item.PricePerNight / night</small><br />
                            <small class="text-muted">@item.CheckIn.ToString("dd MMM") → @item.CheckOut.ToString("dd MMM")</small>
                        </div>
                    </div>

                    <span class="text-dark fw-semibold">@item.Quantity×</span>
                </li>
            }

            <hr class="my-3" />

            <li class="text-center">
                <a asp-controller="Cart" asp-action="Index"
                   class="btn btn-dark btn-sm w-100 rounded-3 py-2 fw-semibold shadow-sm">
                    View Full Cart
                </a>
            </li>
        }
        else
        {
            <li class="text-center p-2 text-muted">Cart is empty</li>
        }
    </ul>
</li>

<style>
    /* Hover on dropdown items */
    .cart-item {
        transition: background-color 0.25s ease, transform 0.2s ease;
        border-radius: 10px;
        cursor: pointer;
    }

        .cart-item:hover {
            background-color: #f0f0f0;
            transform: translateX(4px);
        }

 
</style>

